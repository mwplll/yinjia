<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="/html/static/bower_components/bootstrap/dist/css/bootstrap.min.css"/>
</head>
<body>
    <div class="container">
<h2 id="-">图片上传</h2>
<p>[POST] <a href="http://121.40.212.161:8000/data/image/upload">http://121.40.212.161:8000/data/image/upload</a></p>
<div class="row"><div class="col-lg-9"><table class="table table-bordered table-striped">
<thead>
<tr>
<th>参数</th>
<th>说明</th>
<th>参数可选值</th>
<th>可选值说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>图片类型</td>
<td>avator</td>
<td>用户头像</td>
</tr>
<tr>
<td></td>
<td></td>
<td>house_type</td>
<td>户型图</td>
</tr>
<tr>
<td></td>
<td></td>
<td>design_room</td>
<td>房间设计图</td>
</tr>
<tr>
<td>file</td>
<td>图片文件， input type=file name=file，即 name 为 file 的表单元素</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div></div><p>返回</p>
<pre><code>errorCode: 22000
data:
    link: xxx
</code></pre><h2 id="-">设计师中心</h2>
<hr>
<h3 id="-todo">选择已有设计方案 TODO</h3>
<hr>
<h4 id="1-">1. 获取城市列表</h4>
<h4 id="2-id-">2. 城市 id 获取楼盘列表</h4>
<h4 id="3-id-">3. 楼盘 id 获取户型列表</h4>
<hr>
<h3 id="-">添加新的户型图</h3>
<hr>
<h4 id="1-">1. 传入户型图相关信息, 添加户型图</h4>
<p>[POST] <a href="http://121.40.212.161:8000/data/house/edit?act=add">http://121.40.212.161:8000/data/house/edit?act=add</a></p>
<div class="row"><div class="col-lg-9"><table class="table table-bordered table-striped">
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>户型名称</td>
</tr>
<tr>
<td>building_id</td>
<td>楼盘id</td>
</tr>
<tr>
<td>city_id</td>
<td>城市id</td>
</tr>
<tr>
<td>pic</td>
<td>户型图图片地址</td>
</tr>
<tr>
<td>usable_area</td>
<td>可使用面积</td>
</tr>
<tr>
<td>gross_area</td>
<td>建筑面积</td>
</tr>
<tr>
<td>room_name[]</td>
<td>房间名称</td>
</tr>
<tr>
<td>room_size[]</td>
<td>房间面积</td>
</tr>
</tbody>
</table>
</div></div><p><a href="http://121.40.212.161:8000/data/house/edit?act=add&amp;name=%E9%98%B3%E5%85%89%E5%AE%B6%E5%9B%AD&amp;build_id=1&amp;room_name[]=%E5%8E%A8%E6%88%BF&amp;room_area[]=12&amp;room_name[]=%E5%AE%A2%E5%8E%85&amp;room_area[]=11&amp;room_name[]=%E5%8D%AB%E7%94%9F%E9%97%B4&amp;room_area[]=8">http://121.40.212.161:8000/data/house/edit?act=add&amp;name=%E9%98%B3%E5%85%89%E5%AE%B6%E5%9B%AD&amp;build_id=1&amp;room_name[]=%E5%8E%A8%E6%88%BF&amp;room_area[]=12&amp;room_name[]=%E5%AE%A2%E5%8E%85&amp;room_area[]=11&amp;room_name[]=%E5%8D%AB%E7%94%9F%E9%97%B4&amp;room_area[]=8</a></p>
<hr>
<h3 id="-">发布设计方案</h3>
<hr>
<h4 id="1-id-">1. 户型 id 获取户型信息，房间信息</h4>
<p>[GET] <a href="http://121.40.212.161:8000/data/house/info/6">http://121.40.212.161:8000/data/house/info/6</a></p>
<blockquote>
<p>info 后为户型 id</p>
</blockquote>
<h4 id="2-">2. 上传房间户型图</h4>
<p>参考图片上传，type 参数为 design_room</p>
<h4 id="3-">3. 创建新的设计方案</h4>
<p>[POST] <a href="http://121.40.212.161:8000/data/design/edit?act=add">http://121.40.212.161:8000/data/design/edit?act=add</a></p>
<div class="row"><div class="col-lg-9"><table class="table table-bordered table-striped">
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>house_type_id</td>
<td>户型 id</td>
</tr>
<tr>
<td>name</td>
<td>方案名称</td>
</tr>
<tr>
<td>price</td>
<td>设计费</td>
</tr>
<tr>
<td>deposit</td>
<td>订金</td>
</tr>
<tr>
<td>estimate_price</td>
<td>装修预估价</td>
</tr>
<tr>
<td>room_id[]</td>
<td>户型下房间的 id</td>
</tr>
<tr>
<td>design_pic[]</td>
<td>设计图地址</td>
</tr>
</tbody>
</table>
</div></div><p>需要登录 <a href="http://121.40.212.161:8000/data/design/edit?act=add&amp;name=%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88&amp;house_type_id=6&amp;price=9000&amp;deposit=2000&amp;room_id[]=47&amp;design_pic[]=xx.com&amp;room_id[]=48&amp;design_pic[]=xx.com&amp;room_id[]=49&amp;design_pic[]=xx.com">http://121.40.212.161:8000/data/design/edit?act=add&amp;name=%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88&amp;house_type_id=6&amp;price=9000&amp;deposit=2000&amp;room_id[]=47&amp;design_pic[]=xx.com&amp;room_id[]=48&amp;design_pic[]=xx.com&amp;room_id[]=49&amp;design_pic[]=xx.com</a>
<a href="http://121.40.212.161:8000/data/design/edit?act=add&amp;name=%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88&amp;house_type_id=2&amp;price=9000&amp;deposit=2000&amp;room_id[]=8&amp;design_pic[]=xx.com&amp;room_id[]=9&amp;design_pic[]=xx.com&amp;room_id[]=10&amp;design_pic[]=xx.com&amp;room_id[]=11&amp;design_pic[]=xx.com&amp;room_id[]=12&amp;design_pic[]=xx.com&amp;room_id[]=13&amp;design_pic[]=xx.com&amp;room_id[]=14&amp;design_pic[]=xx.com&amp;room_id[]=15&amp;design_pic[]=xx.com&amp;room_id[]=16&amp;design_pic[]=xx.com">http://121.40.212.161:8000/data/design/edit?act=add&amp;name=%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88&amp;house_type_id=2&amp;price=9000&amp;deposit=2000&amp;room_id[]=8&amp;design_pic[]=xx.com&amp;room_id[]=9&amp;design_pic[]=xx.com&amp;room_id[]=10&amp;design_pic[]=xx.com&amp;room_id[]=11&amp;design_pic[]=xx.com&amp;room_id[]=12&amp;design_pic[]=xx.com&amp;room_id[]=13&amp;design_pic[]=xx.com&amp;room_id[]=14&amp;design_pic[]=xx.com&amp;room_id[]=15&amp;design_pic[]=xx.com&amp;room_id[]=16&amp;design_pic[]=xx.com</a></p>
<p>流程说明：</p>
<ol>
<li>验证是否提供了必须字段</li>
<li>验证用户是否是设计师</li>
<li>验证是否提供了全部房间的设计图</li>
<li>添加设计方案记录</li>
<li>添加设计房间记录</li>
</ol>
</div>
</body>
</html>
